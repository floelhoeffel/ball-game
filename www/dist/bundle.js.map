{"version":3,"sources":["webpack:///webpack/bootstrap f92bd8707d0aaa051c17","webpack:///./src/main.ts","webpack:///./src/ball.ts","webpack:///./src/engine.ts","webpack:///./src/input.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f92bd8707d0aaa051c17","import { Ball } from \"./ball\"\nimport { Engine } from \"./engine\"\nimport { Input } from \"./input\"\n\nlet ball: Ball = new Ball(document.getElementById(\"ball\"))\nlet engine: Engine = new Engine(ball)\nlet input: Input = new Input(engine, ball)\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","export class Ball {\n  element: HTMLElement\n\n  width: number\n  height: number\n\n  velX: number = -1 + Math.random() * 2\n  velY: number = -2 + Math.random() * 4\n\n  posX: number\n  posY: number\n\n  isDragged: boolean = false\n\n  constructor(element: HTMLElement) {\n    this.element = element\n    let boundingRect = this.element.getBoundingClientRect()\n\n    // ballElement.setAttribute(\"id\", \"ball\")\n\n    this.height = boundingRect.height\n    this.width = boundingRect.width\n    this.posX = boundingRect.top\n    this.posY = boundingRect.left\n  }\n  render() {\n    //console.log(\"x\", positionX, \"y\", positionY)\n\n    this.element.style.transform =\n      \"translateY(\" + this.posY + \"px) translateX(\" + this.posX + \"px)\"\n  }\n}\n\n//ballElement.style.transform = \"translate(50%, 20%)\"\n\n// function setDragged(value: boolean) {\n//   isDragged = value\n// }\n// function setPositionX(value: number) {\n//   positionX = value\n// }\n// function setPositionY(value: number) {\n//   positionY = value\n// }\n\n// function setVelocityX(value: number) {\n//   velocityX = value\n// }\n// function setVelocityY(value: number) {\n//   velocityY = value\n// }\n\n// function\n\n// export {\n//   ballElement,\n//   width,\n//   height,\n//   velocityY,\n//   velocityX,\n//   positionY,\n//   positionX,\n//   isDragged,\n//   setDragged,\n//   setPositionY,\n//   setPositionX,\n//   setVelocityY,\n//   setVelocityX,\n//   render\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/ball.ts","import { Ball } from \"./ball\"\n\ninterface World {\n  width: number\n  height: number\n  acceleration: number\n  friction: number\n}\n\nexport class Engine {\n  private lastTime: number\n\n  world: World = {\n    width: window.innerWidth,\n    height: window.innerHeight,\n    acceleration: 0.0012,\n    friction: 0.999\n  }\n  constructor(private ball: Ball) {\n    console.log(\"init engine\")\n\n    this.lastTime = performance.now()\n\n    this.ball.posX = this.world.width * 0.5\n    this.ball.posY = this.world.height * 0.2\n\n    this.update(this.lastTime)\n  }\n\n  private update(timestamp: number) {\n    // console.log(`engine.update`)\n    // console.log(`engine.update lastTime ${this.lastTime}`)\n\n    let deltaTime = timestamp - this.lastTime\n    this.lastTime = timestamp\n\n    if (this.ball.isDragged) {\n      return\n    }\n\n    this.ball.posY =\n      this.ball.posY +\n      deltaTime * (this.ball.velY + (deltaTime * this.world.acceleration) / 2)\n\n    this.ball.posX = this.ball.posX + deltaTime * this.ball.velX\n\n    this.ball.velX = this.ball.velX * this.world.friction\n    this.ball.velY = this.ball.velY + deltaTime * this.world.acceleration\n\n    // If ball would bleed out of screen\n    if (this.ball.posY + this.ball.height >= this.world.height) {\n      this.ball.posY = this.world.height - this.ball.height\n      this.ball.velY = this.ball.velY * -0.7\n\n      // If ball too slow, stop render loop\n      if (Math.abs(this.ball.velY) < 0.05) {\n        //world.acceleration = 0\n        //this.ball.setVelocityY(0)\n        console.log(\"killed\")\n        return\n      }\n    }\n\n    if (this.ball.posY <= 0) {\n      this.ball.posY = 0\n      this.ball.velY = this.ball.velY * -0.7\n    }\n\n    if (this.ball.posX + this.ball.width > this.world.width) {\n      this.ball.velX = this.ball.velX * -1\n    }\n    if (this.ball.posX <= 0) {\n      this.ball.velX = this.ball.velX * -1\n    }\n\n    this.ball.render()\n\n    window.requestAnimationFrame(this.update.bind(this))\n  }\n\n  throwBall() {\n    this.lastTime = performance.now()\n    this.update(this.lastTime)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/engine.ts","import { Ball } from \"./ball\"\nimport { Engine } from \"./engine\"\n\nexport class Input {\n  constructor(private engine: Engine, private ball: Ball) {\n    let lastBallX = 0\n    let lastBallY = 0\n\n    document.body.addEventListener(\"mousemove\", event => {\n      if (ball.isDragged) {\n        console.log(\"ballMove\")\n\n        console.log(`oldX ${ball.posX}, newX ${event.clientX - ball.width / 2}`)\n\n        ball.posY = event.clientY - ball.height / 2\n        ball.posX = event.clientX - ball.width / 2\n\n        ball.render()\n      }\n    })\n\n    ball.element.addEventListener(\"mousedown\", event => {\n      console.log(\"ball\")\n      ball.isDragged = true\n    })\n    document.body.addEventListener(\"mouseup\", event => {\n      ball.isDragged = false\n      engine.throwBall()\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/input.ts"],"sourceRoot":""}